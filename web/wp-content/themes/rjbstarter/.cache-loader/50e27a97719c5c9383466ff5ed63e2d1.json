{"remainingRequest":"/app/web/wp-content/themes/quantcast/node_modules/buble-loader/index.js??ref--2-1!/app/web/wp-content/themes/quantcast/node_modules/eslint-loader/index.js!/app/web/wp-content/themes/quantcast/node_modules/import-glob/index.js!/app/web/wp-content/themes/quantcast/resources/assets/scripts/routes/dataAccess.js","dependencies":[{"path":"/app/web/wp-content/themes/quantcast/resources/assets/scripts/routes/dataAccess.js","mtime":1603131137000},{"path":"/app/web/wp-content/themes/quantcast/node_modules/cache-loader/dist/cjs.js","mtime":1601265641000},{"path":"/app/web/wp-content/themes/quantcast/node_modules/buble-loader/index.js","mtime":1601265638000},{"path":"/app/web/wp-content/themes/quantcast/node_modules/eslint-loader/index.js","mtime":1601265647000},{"path":"/app/web/wp-content/themes/quantcast/node_modules/import-glob/index.js","mtime":1601265653000}],"contextDependencies":[],"result":["export default {\n  init: function init() {\n    alert('data access js added');\n    if ( $( '[data-iframe=\"data-access\"]' ).length ) {\n\n      alert('has iframe container');\n\t\t\tvar $element = $( '[data-iframe=\"data-access\"]' );\n\t\t\t// Run this in an interval (every 0.1s) just in case we are still waiting for consent\n\t\t\tvar cnt = 0;\n\t\t\tvar consentSetInterval = setInterval(function(){\n\t\t\t\tcnt += 1;\n\t\t\t\t// Bail if we have not gotten a consent response after 30 seconds.\n\t\t\t\tif( cnt >= 300 )\n\t\t\t\t\t{ clearInterval(consentSetInterval); }\n\n\t\t\t\tif( typeof window.__tcfapi !== 'undefined' ) { // Check if window.__tcfapi has been set\n\t\t\t\t\tclearInterval( consentSetInterval );\n\n          alert('choice loaded');\n\n\t\t\t\t\twindow.__uspapi( 'uspPing', 1, function( obj, status ) {\n            alert('has usping');\n\t\t\t\t\t\tif (status && obj.mode.includes('USP') && obj.jurisdiction.includes(obj.location.toUpperCase()) && $element !== null) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: ajax_object.ajax_url,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'privacy_data_access_ccpa',\n                  security: ajax_object.ajax_nonce,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function (errorThrown) {\n\t\t\t\t\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function( res ) {\n\t\t\t\t\t\t\t\t\tvar retObj = JSON.parse(res);\n\t\t\t\t\t\t\t\t\tif( retObj.success ) {\n\t\t\t\t\t\t\t\t\t\t// on success, display the returned html in the data access dom element.\n\t\t\t\t\t\t\t\t\t\t$($element).html(retObj.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t$($element).html('There was an error determining your jurisdiction, please refresh the page to try again.');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse {\n              alert('no us ping');\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: ajax_object.ajax_url,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'privacy_data_access_gdpr',\n                  security: ajax_object.ajax_nonce,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function (errorThrown) {\n\t\t\t\t\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function( res ) {\n\t\t\t\t\t\t\t\t\tvar retObj = JSON.parse(res);\n\t\t\t\t\t\t\t\t\tif( retObj.success ) {\n\t\t\t\t\t\t\t\t\t\t// on success, display the returned html in the data access dom element.\n\t\t\t\t\t\t\t\t\t\t$($element).html(retObj.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t$($element).html('There was an error determining your jurisdiction, please refresh the page to try again.');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t}, 100);\n\t\t}\n\n  },\n\n  finalize: function finalize() {\n    // JavaScript to be fired on the home page, after the init JS\n  },\n};\n",{"version":3,"file":"/app/web/wp-content/themes/quantcast/resources/assets/scripts/routes/dataAccess.js","sources":["resources/assets/scripts/routes/dataAccess.js"],"sourcesContent":["export default {\n  init() {\n    alert('data access js added');\n    if ( $( '[data-iframe=\"data-access\"]' ).length ) {\n\n      alert('has iframe container');\n\t\t\tvar $element = $( '[data-iframe=\"data-access\"]' );\n\t\t\t// Run this in an interval (every 0.1s) just in case we are still waiting for consent\n\t\t\tvar cnt = 0;\n\t\t\tvar consentSetInterval = setInterval(function(){\n\t\t\t\tcnt += 1;\n\t\t\t\t// Bail if we have not gotten a consent response after 30 seconds.\n\t\t\t\tif( cnt >= 300 )\n\t\t\t\t\tclearInterval(consentSetInterval);\n\n\t\t\t\tif( typeof window.__tcfapi !== 'undefined' ) { // Check if window.__tcfapi has been set\n\t\t\t\t\tclearInterval( consentSetInterval );\n\n          alert('choice loaded');\n\n\t\t\t\t\twindow.__uspapi( 'uspPing', 1, function( obj, status ) {\n            alert('has usping');\n\t\t\t\t\t\tif (status && obj.mode.includes('USP') && obj.jurisdiction.includes(obj.location.toUpperCase()) && $element !== null) {\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: ajax_object.ajax_url,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'privacy_data_access_ccpa',\n                  security: ajax_object.ajax_nonce,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function (errorThrown) {\n\t\t\t\t\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function( res ) {\n\t\t\t\t\t\t\t\t\tvar retObj = JSON.parse(res);\n\t\t\t\t\t\t\t\t\tif( retObj.success ) {\n\t\t\t\t\t\t\t\t\t\t// on success, display the returned html in the data access dom element.\n\t\t\t\t\t\t\t\t\t\t$($element).html(retObj.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t$($element).html('There was an error determining your jurisdiction, please refresh the page to try again.');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse {\n              alert('no us ping');\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: ajax_object.ajax_url,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'privacy_data_access_gdpr',\n                  security: ajax_object.ajax_nonce,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: function (errorThrown) {\n\t\t\t\t\t\t\t\t\tconsole.log(errorThrown);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function( res ) {\n\t\t\t\t\t\t\t\t\tvar retObj = JSON.parse(res);\n\t\t\t\t\t\t\t\t\tif( retObj.success ) {\n\t\t\t\t\t\t\t\t\t\t// on success, display the returned html in the data access dom element.\n\t\t\t\t\t\t\t\t\t\t$($element).html(retObj.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t$($element).html('There was an error determining your jurisdiction, please refresh the page to try again.');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t}, 100);\n\t\t}\n\n  },\n\n  finalize() {\n    // JavaScript to be fired on the home page, after the init JS\n  },\n};\n"],"names":[],"mappings":"AAAA,eAAe;EACb,IAAI,eAAA,GAAG;IACL,KAAK,CAAC,sBAAsB,CAAC,CAAC;IAC9B,KAAK,CAAC,EAAE,6BAA6B,EAAE,CAAC,MAAM,GAAG;;MAE/C,KAAK,CAAC,sBAAsB,CAAC,CAAC;GACjC,IAAI,QAAQ,GAAG,CAAC,EAAE,6BAA6B,EAAE,CAAC;;GAElD,IAAI,GAAG,GAAG,CAAC,CAAC;GACZ,IAAI,kBAAkB,GAAG,WAAW,CAAC,UAAU;IAC9C,GAAG,IAAI,CAAC,CAAC;;IAET,IAAI,GAAG,IAAI,GAAG;KACb,EAAA,aAAa,CAAC,kBAAkB,CAAC,CAAC,EAAA;;IAEnC,IAAI,OAAO,MAAM,CAAC,QAAQ,KAAK,WAAW,GAAG;KAC5C,aAAa,EAAE,kBAAkB,EAAE,CAAC;;UAE/B,KAAK,CAAC,eAAe,CAAC,CAAC;;KAE5B,MAAM,CAAC,QAAQ,EAAE,SAAS,EAAE,CAAC,EAAE,UAAU,GAAG,EAAE,MAAM,GAAG;YAChD,KAAK,CAAC,YAAY,CAAC,CAAC;MAC1B,IAAI,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,IAAI,QAAQ,KAAK,IAAI,EAAE;OACrH,CAAC,CAAC,IAAI,CAAC;QACN,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,WAAW,CAAC,QAAQ;QACzB,IAAI,EAAE;SACL,MAAM,EAAE,0BAA0B;kBACzB,QAAQ,EAAE,WAAW,CAAC,UAAU;SACzC;QACD,KAAK,EAAE,UAAU,WAAW,EAAE;SAC7B,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SACzB;QACD,OAAO,EAAE,UAAU,GAAG,GAAG;SACxB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SAC7B,IAAI,MAAM,CAAC,OAAO,GAAG;;UAEpB,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;UAC9B;cACI;UACJ,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,yFAAyF,CAAC,CAAC;UAC5G;SACD;QACD,CAAC,CAAC;OACH;;WAEI;cACG,KAAK,CAAC,YAAY,CAAC,CAAC;OAC3B,CAAC,CAAC,IAAI,CAAC;QACN,IAAI,EAAE,MAAM;QACZ,GAAG,EAAE,WAAW,CAAC,QAAQ;QACzB,IAAI,EAAE;SACL,MAAM,EAAE,0BAA0B;kBACzB,QAAQ,EAAE,WAAW,CAAC,UAAU;SACzC;QACD,KAAK,EAAE,UAAU,WAAW,EAAE;SAC7B,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;SACzB;QACD,OAAO,EAAE,UAAU,GAAG,GAAG;SACxB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;SAC7B,IAAI,MAAM,CAAC,OAAO,GAAG;;UAEpB,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;UAC9B;cACI;UACJ,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,yFAAyF,CAAC,CAAC;UAC5G;SACD;QACD,CAAC,CAAC;OACH;MACD,CAAC,CAAC;KACH;IACD,GAAG,EAAE,CAAC;IACN,EAAE,GAAG,CAAC,CAAC;GACR;;GAEA;;EAED,QAAQ,mBAAA,GAAG;;GAEV;CACF,CAAC;","sourceRoot":"/app/web/wp-content/themes/quantcast"}]}